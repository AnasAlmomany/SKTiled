<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Coordinates  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Coordinates  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">SKTiled Docs</a> (62% documented)</p>
        <p class="header-right"><a href="https://github.com/mfessenden/SKTiled"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">SKTiled Reference</a>
        <img id="carat" src="img/carat.png" />
        Coordinates  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Tutorial.html">Tutorial</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="getting-started.html">Getting Started</a>
              </li>
              <li class="nav-group-task">
                <a href="coordinates.html">Coordinates</a>
              </li>
              <li class="nav-group-task">
                <a href="objects.html">Objects</a>
              </li>
              <li class="nav-group-task">
                <a href="properties.html">Properties</a>
              </li>
              <li class="nav-group-task">
                <a href="gameplaykit.html">GameplayKit</a>
              </li>
              <li class="nav-group-task">
                <a href="debugging.html">Debugging</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/SKTiledObject.html">SKTiledObject</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SKTiledSceneDelegate.html">SKTiledSceneDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Class Reference.html">Class Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/SKTilemap.html">SKTilemap</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTilemapParser.html">SKTilemapParser</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTileset.html">SKTileset</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TiledLayerObject.html">TiledLayerObject</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTileLayer.html">SKTileLayer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKObjectGroup.html">SKObjectGroup</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKImageLayer.html">SKImageLayer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTile.html">SKTile</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTileObject.html">SKTileObject</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTilesetData.html">SKTilesetData</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TileCoord.html">TileCoord</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other Guides.html">Other Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="tutorial.html">Tutorial</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/SKTiledScene.html">SKTiledScene</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SKTiledSceneCamera.html">SKTiledSceneCamera</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/SKTiledLayerType.html">SKTiledLayerType</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <a href='#coordinates' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='coordinates'>Coordinates</h1>

<p>SpriteKit uses a coordinate system that is different from Tiled&rsquo;s; in SpriteKit, a SpriteKit node&rsquo;s origin is on the bottom-left, while Tiled&rsquo;s origin is top-left. </p>

<p>To emulate this, the <code>SKTilemap</code> node draws its layers starting at the origin and moving <em>downwards</em> into the negative y-space. To accomodate this, each layer type has methods for converting points into negative-y space:</p>
<pre class="highlight swift"><code><span class="c1">// iOS with UITouch</span>
<span class="k">let</span> <span class="nv">touchPosition</span> <span class="o">=</span> <span class="n">tileLayer</span><span class="o">.</span><span class="nf">touchLocation</span><span class="p">(</span><span class="n">touch</span><span class="p">)</span>

<span class="c1">// OSX with NSEvent mouse event</span>
<span class="k">let</span> <span class="nv">eventPosition</span> <span class="o">=</span> <span class="n">tileLayer</span><span class="o">.</span><span class="nf">mouseLocation</span><span class="p">(</span><span class="nv">event</span><span class="p">:</span> <span class="n">mouseEvent</span><span class="p">)</span>
</code></pre>

<p>Each layer type also have convenience methods for querying screen points or tile coordinates:</p>
<pre class="highlight swift"><code><span class="c1">// covert coordinate position to CGPoint</span>
<span class="k">let</span> <span class="nv">point</span> <span class="o">=</span> <span class="n">tileLayer</span><span class="o">.</span><span class="nf">pointForCoordinate</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1">// covert CGPoint to coordinate position</span>
<span class="k">let</span> <span class="nv">coord</span> <span class="o">=</span> <span class="n">objectGroup</span><span class="o">.</span><span class="nf">coordinateForPoint</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</code></pre>

<p>Each layer has the ability to independently query a coordinate (which can be different depending on each layer&rsquo;s offset). Querying a point in the parent <code>SKTilemap</code> node returns values in the default base layer.</p>
<a href='#layer-offsets-amp-hints' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='layer-offsets-amp-hints'>Layer Offsets &amp; Hints</h2>

<p><code>TileOffset</code> - Offset hint for placement within each layer type.</p>

<p><code>LayerPosition</code> -  Alignment hint used to position the layers within the <code>SKTilemap</code> node.</p>
<pre class="highlight plaintext"><code>TileOffset.BottomLeft  tile aligns at the bottom left corner.
TileOffset.TopLeft     tile aligns at the top left corner.
TileOffset.TopRight    tile aligns at the top right corner.
TileOffset.BottomRight tile aligns at the bottom right corner.
TileOffset.Center      tile aligns at the center.

LayerPosition.BottomLeft  // 0   - node bottom left rests at parent zeropoint
LayerPosition.Center      // 0.5 - node center rests at parent zeropoint
LayerPosition.TopRight    // 1   - node top right rests at parent zeropoint
</code></pre>

<p>Next: <a href="objects.html">Objects</a></p>

          </section>
        </section>
        <section id="footer">
          <p>© 2016 Michael Fessenden](<a href="https://github.com/mfessenden">https://github.com/mfessenden</a>) under <a class="link" href="https://github.com/mfessenden/SKTiled/blob/master/LICENSE" target="_blank" rel="external">open source license</a>.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
